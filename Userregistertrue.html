<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Artist Signup</title>

  

  <!-- CDN Link -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <!-- Script Link -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- <script src="./artist_signup.js"></script>
  <script src="./validation.js"></script> -->

  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

  <script>
      $(document).ready(
        
                   function()
     {

                   $('#btn').click(function () {
           console.log("button clicked");

        // function checkData(){

        //   if (($("#name").val()) == null || ($("#phone").val()) == null ||
             
        //     ($("#email").val()) == null ||($("#address").val()) == null || ($("#con_pass").val()) == null ||
        //  ($("#password").val()) == null) 
        //  {
        //      console.log("hoi");
        //     alert("Please enter all your credentials")
         // }
        //   else if (($("#userform").valid()) === false) {
        //     alert("Invalid credentials ")

        //   }
        //   else {
            $.get("http://localhost:3000/Emp", function (data, status) 
            {
              var i = 0;
              for (let obj of data) {
                // console.log("hi in check");
                if (($("#email").val()) == data.email) {  console.log("hi in check");
                  i++;
                  alert("User Already exists");
                  break;
                }
              }
              if (i == 0) 
              
              {
                  var n=$("#name").val();
                  var a=$("#address").val();
                  var ph=$("#phone").val();
                  var e=$("#email").val();
                  var p=$("#password").val();
                  var cp=$("#con_pass").val();

                  console.log("in method");
                  
                  $.post("http://localhost:3000/Emp",
                            {
                             "Your name":n,
                             "Address":a,
                             "Phone":ph,
                             "Email":e,
                             "Password":p,
                             "Confirm Password":cp   
                            },
                            function () 
                                {
                                  alert("Data Added Successfully...");
                               }                    
                         )
                            }
                                   //  var details=n+"  "+p+"   "+e+"    "+d;
                                   // console.log(details);
                                   //$("#info").text(details);
                                   // $("table").html("<tr><td>"+n+"</td><td>"+p+"</td><td>"+e+"</td><td>"+d+"</td></ tr>")
              }
                                    //   window.location.href="register.html";
                                    //   alert("hua hai");
               );
              
        }
                   )
    },
    );
//}),
function Validate() {
    var s = document.form.s.value
                document.form.s.focus()
                
               
                var nme=$("#name").val();
                console.log(nme);
                console.log(s);
    
                if(s.indexOf("@") != -1 && s.indexOf(".") != -1){
                    // document.getElementById("e1").innerHTML = "Entered email address is valid"
                    alert("YAYYY " + nme + "!!! You Can Register Under The Email Id "+s);
                }
                else if(s.indexOf("@") == -1 && s.indexOf(".") == -1){
                    // document.getElementById("e1").innerHTML = "Your entered email does not contain . symbol and @ symbol"
                    alert("Your entered email does not contain . symbol and @ symbol");
                    
                }
                else if(s.indexOf("@") == -1){
                    // document.getElementById("e1").innerHTML = "email does not contain @"
                    alert("Your Email does not contain @");
                    
                }
                else if(s.indexOf(".") == -1){
                    // document.getElementById("e1").innerHTML = "email does not contain ."
                    alert("Your Email does not contain .");
                    
                }
                else if(s.length==0){
                    // document.getElementById("e1").innerHTML = "Email cannot be empty"
                    alert(nme+" Oh No !!! Email Cannot Be Empty .");
                    
                }
    
            }

        //})  
  </script>
</head>

<body>

  <section class="vh-300 bg-image" style="background-image: url('art.jpg')">
    <div class="mask d-flex align-items-center h-150 gradient-custom-3">
      <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100 ">
          <div class="col-12 col-md-9 col-lg-7 col-xl-6 bg-danger">
            <div class="card bg-light" style="border-radius: 25px; ">
              <div class="card-body p-5" style="border: 5px red;">
                <h2 class="text-uppercase text-center mb-5" style="color: #3F72AF;"><u>Registration Form</u></h2>

                <!-- <div>
                  <label class="form-label" for="email">Role</label>
                  <select class="form-control form-control-lg" id="status">
                    <option value="select">Select</option>
                    <option value="artist">User Registration</option>
                    <option value="user">Artist Registration</option>
                  </select>
                </div>
                <br> -->               
                 <div class="form-outline mb-4"> 
                  <label class="form-label"    for="name">Your Name <span id="valid1" style="color: red;"></span></label>
                  <input required type="text" id="name" name="nme" class="form-control form-control-lg" />
                 </div>
                 <br>
                <div class="form-outline mb-4">
                  <label class="form-label" for="add">Address <span id="valid2" style="color: red;"></span></label>
                  <input type="text" id="address" class="form-control form-control-lg" />
                </div>
                <br>
                <div class="form-outline mb-4">
                  <label class="form-label" for="mob">Mobile Number <span id="valid3"
                      style="color: red;"></span></label>
                  <input name="phone" type="tel" id="phone" class="form-control form-control-lg" maxlength="10"
                    minlength="5" required pattern="[0-9] {3} - [0-9] {2} - [0-9] {3}">
                </div>
                <br>
                 <!-- <div class="form-outline mb-4">
                  <label class="form-label" for="email">Email Address <span id="valid4"
                      style="color: red;"></span></label>
                  <input type="email" id="email" class="form-control form-control-lg" />

                </div>  -->
                <div class="form-outline mb-4">

                <form name="form" method="GET" >
                    <table>
                        <tr>  
                             <label class="form-label" for="email">Email Address <span id="valid4"
                                    style="color: red;"></span></label>
                                <input type="email" id="email" name="s" class="form-control form-control-lg" 
                        </tr>
                        <tr> 
                            <td>
                                 <label class="form-label" for="email"><span id="valid4"
                                    style="color: red;"></span></label>  
                                <input type="button" class="form-control form-control-xs" id="reg"
                                 value="Check If EmailID Is Available"  onclick= "Validate()"> 
            
                            </td>
                        </tr>
                    </table>
                </form> 
            </div>
          <br>

                <div class="form-outline mb-4">
                  <label class="form-label" for="pass">Password <span id="valid5" style="color: red;"></span></label>
                  <input type="password" id="password" class="form-control form-control-lg" />

                </div>

                <div class="form-outline mb-4">
                  <label class="form-label" for="pass"> Confirm Password <span id="valid5"
                      style="color: red;"></span></label>
                  <input type="password" id="con_pass" class="form-control form-control-lg" />

                </div>




                <div class="d-flex justify-content-center">

                  <button class="btn btn-outline-success" id="btn" > <a href="UserLoginPage.html"> Register </a></button>
                </div>
                

            </div>
            </div>
          </div>
        </div>
      </div>
      </div>
    </div>
  </section>
</body>

</html>